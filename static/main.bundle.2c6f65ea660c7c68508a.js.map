{"version":3,"sources":["webpack:///./source/view/App.tsx","webpack:///./source/main.tsx","webpack:///./source/view/App.scss?4811"],"names":["columns","Object","_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_4__","Array","map","id","Math","floor","random","rows","Header","props","_this","_React$Component","call","this","_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_3__","_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__","React","state","height","top","mountElement","document","createElement","body","appendChild","componentDidMount","setState","componentWillUnmount","removeChild","componentDidUpdate","headerEl","headerRef","current","pushEl","pushRef","offsetHeight","getBoundingClientRect","render","react__WEBPACK_IMPORTED_MODULE_5__","createPortal","style","ref","className","styles","header","headerPush","_babel_runtime_helpers_esm_jsx__WEBPACK_IMPORTED_MODULE_0__","hot","module","container","_ref","inner","column","row","_ref2","getElementById","ReactDOM","_source_view_App__WEBPACK_IMPORTED_MODULE_149__","exports"],"mappings":"mMAKMA,EAAUC,OAAAC,EAAA,EAAAD,CAAIE,MAAM,IAAIC,IAAI,iBAAO,CACrCC,GAAIC,KAAKC,MAAsB,IAAhBD,KAAKE,UACpBC,KAAMR,OAAAC,EAAA,EAAAD,CAAIE,MAAM,IAAIC,IAAI,iBAAO,CAC3BC,GAAIC,KAAKC,MAAsB,IAAhBD,KAAKE,gBAWtBE,cAMF,SAAAA,EAAYC,GAAoB,IAAAC,EAAA,OAC5BA,EAAAC,EAAAC,KAAAC,KAAMJ,IAANI,KAD4Bd,OAAAe,EAAA,EAAAf,QAAAgB,EAAA,EAAAhB,QAAAgB,EAAA,EAAAhB,CAAAW,IAAA,uBAAAX,OAAAe,EAAA,EAAAf,QAAAgB,EAAA,EAAAhB,QAAAgB,EAAA,EAAAhB,CAAAW,IAAA,YAHpBM,eAGoBjB,OAAAe,EAAA,EAAAf,QAAAgB,EAAA,EAAAhB,QAAAgB,EAAA,EAAAhB,CAAAW,IAAA,UAFtBM,eAINN,EAAKO,MAAQ,CAAEC,OAAQ,EAAGC,IAAK,GAC/BT,EAAKU,aAAeC,SAASC,cAAc,OAC3CD,SAASE,KAAKC,YAAYd,EAAKU,cAJHV,8CAOhCe,6BACIZ,KAAKa,SAAS,OAGlBC,gCACIN,SAASE,KAAKK,YAAYf,KAAKO,iBAGnCS,8BACI,IAAMC,EAAWjB,KAAKkB,UAAUC,QAC1BC,EAASpB,KAAKqB,QAAQF,QAC5B,GAAMF,GAAYG,EAAlB,CACA,IAAMf,EAASY,EAASK,aAClBhB,EAAMc,EAAOG,wBAAwBjB,IAEvCN,KAAKI,MAAME,MAAQA,GAAON,KAAKI,MAAMC,SAAWA,GAChDL,KAAKa,SAAS,CAAER,SAAQC,YAGhCkB,kBACI,OACIC,EAAA,cAAAA,EAAA,cACKC,uBACGD,EAAA,qBAAKE,MAAO,CAAErB,IAAKN,KAAKI,MAAME,KAAOsB,IAAK5B,KAAKkB,UAAWW,UAAWC,IAAOC,QAA5E,UACD/B,KAAKO,cACRkB,EAAA,qBAAKG,IAAK5B,KAAKqB,QAASM,MAAO,CAAEtB,OAAQL,KAAKI,MAAMC,QAAUwB,UAAWC,IAAOE,kBAtC3E7B,eA+CTjB,OAAA+C,EAAA,EAAA/C,CAACS,EAAD,MAUAT,OAAA+C,EAAA,EAAA/C,CAACS,EAAD,IAcGuC,kBAAIC,EAAJD,CA3Bf,WACI,OACIhD,OAAA+C,EAAA,EAAA/C,CAAA,WAAS2C,UAAWC,IAAOM,gBAA3B,EAAAC,EAEInD,OAAA+C,EAAA,EAAA/C,CAAA,OAAK2C,UAAWC,IAAOQ,YAAvB,EACKrD,EAAQI,IAAI,SAACkD,GAAD,OACTrD,OAAA+C,EAAA,EAAA/C,CAAA,OAAqB2C,UAAWC,IAAOS,QAA7BA,EAAOjD,GACZiD,EAAO7C,KAAKL,IAAI,SAACmD,GAAD,OACbtD,OAAA+C,EAAA,EAAA/C,CAAA,OAAkB2C,UAAWC,IAAOU,KAA1BA,EAAIlD,UANlCmD,EAYIvD,OAAA+C,EAAA,EAAA/C,CAAA,OAAK2C,UAAWC,IAAOQ,YAAvB,EACKrD,EAAQI,IAAI,SAACkD,GAAD,OACTrD,OAAA+C,EAAA,EAAA/C,CAAA,OAAqB2C,UAAWC,IAAOS,QAA7BA,EAAOjD,GACZiD,EAAO7C,KAAKL,IAAI,SAACmD,GAAD,OACbtD,OAAA+C,EAAA,EAAA/C,CAAA,OAAkB2C,UAAWC,IAAOU,KAA1BA,EAAIlD,qpCC3EpCiB,UAAeC,SAASkC,eAAe,QAE7CC,SACIzD,OAAA+C,EAAA,EAAA/C,CAAC0D,EAAA,EAAD,IACArC,uBCTJ4B,EAAAU,QAAA,CAAkBT,UAAA,SAAAE,MAAA,SAAAP,OAAA,SAAAC,WAAA,SAAAO,OAAA,SAAAC,IAAA","file":"static/main.bundle.2c6f65ea660c7c68508a.js","sourcesContent":["import * as React from \"react\";\nimport { createPortal } from \"react-dom\";\nimport { hot } from \"react-hot-loader\";\nimport styles from \"./App.scss\";\n\nconst columns = [...Array(3)].map(() => ({\n    id: Math.floor(Math.random() * 1e8),\n    rows: [...Array(5)].map(() => ({\n        id: Math.floor(Math.random() * 1e8),\n    })),\n}));\n\ninterface HeaderState {\n    top: number;\n    height: number;\n}\n\ninterface HeaderProps {}\n\nclass Header extends React.Component<HeaderProps, HeaderState> {\n    mountElement: HTMLDivElement;\n\n    headerRef = React.createRef<HTMLDivElement>();\n    pushRef = React.createRef<HTMLDivElement>();\n\n    constructor(props: HeaderProps) {\n        super(props);\n        this.state = { height: 0, top: 0 };\n        this.mountElement = document.createElement(\"div\");\n        document.body.appendChild(this.mountElement);\n    }\n\n    componentDidMount() {\n        this.setState({});\n    }\n\n    componentWillUnmount() {\n        document.body.removeChild(this.mountElement);\n    }\n\n    componentDidUpdate() {\n        const headerEl = this.headerRef.current;\n        const pushEl = this.pushRef.current;\n        if (!(headerEl && pushEl)) { return; }\n        const height = headerEl.offsetHeight;\n        const top = pushEl.getBoundingClientRect().top;\n\n        if (this.state.top !== top || this.state.height !== height) {\n            this.setState({ height, top });\n        }\n    }\n    render() {\n        return (\n            <>\n                {createPortal((\n                    <div style={{ top: this.state.top }} ref={this.headerRef} className={styles.header}>header</div>\n                ), this.mountElement)}\n                <div ref={this.pushRef} style={{ height: this.state.height }} className={styles.headerPush} />\n            </>\n        );\n    }\n}\n\nfunction App() {\n    return (\n        <section className={styles.container}>\n            <Header />\n            <div className={styles.inner}>\n                {columns.map((column) => (\n                    <div key={column.id} className={styles.column}>\n                        {column.rows.map((row) => (\n                            <div key={row.id} className={styles.row} />\n                        ))}\n                    </div>\n                ))}\n            </div>\n            <Header />\n            <div className={styles.inner}>\n                {columns.map((column) => (\n                    <div key={column.id} className={styles.column}>\n                        {column.rows.map((row) => (\n                            <div key={row.id} className={styles.row} />\n                        ))}\n                    </div>\n                ))}\n            </div>\n        </section>\n    );\n}\n\nexport default hot(module)(App);\n","import \"@babel/polyfill\";\nimport * as React from \"react\";\nimport * as ReactDOM from \"react-dom\";\nimport App from \"~source/view/App\";\nimport \"./styles.scss\";\n\nconst mountElement = document.getElementById(\"app\");\n\nReactDOM.render(\n    <App />,\n    mountElement,\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"_104V2\",\"inner\":\"_3qKxZ\",\"header\":\"_3UoUo\",\"headerPush\":\"_3RyLw\",\"column\":\"_1ghFt\",\"row\":\"_2Pe8Y\"};"],"sourceRoot":""}