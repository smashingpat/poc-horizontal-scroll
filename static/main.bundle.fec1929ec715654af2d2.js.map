{"version":3,"sources":["webpack:///./source/view/App.tsx","webpack:///./source/main.tsx","webpack:///./source/view/App.scss?4811"],"names":["columns","Object","_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_4__","Array","map","id","Math","floor","random","rows","Header","props","_this","_React$Component","call","this","_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_3__","_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__","React","state","height","width","top","left","mountElement","document","createElement","body","appendChild","componentDidMount","setState","componentWillUnmount","removeChild","componentDidUpdate","headerEl","headerRef","current","pushEl","pushRef","offsetHeight","offsetWidth","_getElementOffset","el","element","offsetTop","offsetLeft","offsetParent","getElementOffset","render","react__WEBPACK_IMPORTED_MODULE_5__","createPortal","style","ref","className","styles","header","headerPush","_babel_runtime_helpers_esm_jsx__WEBPACK_IMPORTED_MODULE_0__","App","_this2","container","onClick","forceUpdate","containerInner","_ref","columnContainer","column","row","_ref2","hot","module","getElementById","ReactDOM","_source_view_App__WEBPACK_IMPORTED_MODULE_149__","exports","columnInner"],"mappings":"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","file":"static/main.bundle.fec1929ec715654af2d2.js","sourcesContent":["import * as React from \"react\";\nimport { createPortal } from \"react-dom\";\nimport { hot } from \"react-hot-loader\";\nimport styles from \"./App.scss\";\n\nconst columns = [...Array(5)].map(() => ({\n    id: Math.floor(Math.random() * 1e8),\n    rows: [...Array(10)].map(() => ({\n        id: Math.floor(Math.random() * 1e8),\n    })),\n}));\n\ninterface HeaderState {\n    top: number;\n    left: number;\n    height: number;\n    width: number;\n}\n\ninterface HeaderProps {}\n\nfunction getElementOffset(el: HTMLElement) {\n    let top = 0;\n    let left = 0;\n    let element = el;\n\n    // Loop through the DOM tree\n    // and add it's parent's offset to get page offset\n    do {\n      top += element.offsetTop || 0;\n      left += element.offsetLeft || 0;\n      element = element.offsetParent;\n    } while (element);\n\n    return {\n        left,\n        top,\n    };\n}\n\nclass Header extends React.Component<HeaderProps, HeaderState> {\n    mountElement: HTMLDivElement;\n\n    headerRef = React.createRef<HTMLDivElement>();\n    pushRef = React.createRef<HTMLDivElement>();\n\n    constructor(props: HeaderProps) {\n        super(props);\n        this.state = { height: 0, width: 0, top: 0, left: 0 };\n        this.mountElement = document.createElement(\"div\");\n        document.body.appendChild(this.mountElement);\n    }\n\n    componentDidMount() {\n        this.setState({});\n    }\n\n    componentWillUnmount() {\n        document.body.removeChild(this.mountElement);\n    }\n\n    componentDidUpdate() {\n        const headerEl = this.headerRef.current;\n        const pushEl = this.pushRef.current;\n        if (!(headerEl && pushEl)) { return; }\n        const height = headerEl.offsetHeight;\n        const width = pushEl.offsetWidth;\n        const { top, left } = getElementOffset(pushEl);\n\n        if (\n            (this.state.top !== top) ||\n            (this.state.left !== left) ||\n            (this.state.height !== height) ||\n            (this.state.width !== width)\n        ) {\n            this.setState({ height, width, top, left });\n        }\n    }\n    render() {\n        return (\n            <>\n                {createPortal((\n                    <div style={{ top: this.state.top, left: this.state.left, width: this.state.width }} ref={this.headerRef} className={styles.header}>header</div>\n                ), this.mountElement)}\n                <div ref={this.pushRef} style={{ height: this.state.height }} className={styles.headerPush} />\n            </>\n        );\n    }\n}\n\nclass App extends React.Component {\n    render() {\n        return (\n            <section className={styles.container} onClick={() => this.forceUpdate()}>\n                <div className={styles.containerInner}>\n                    <Header />\n                    <div className={styles.columnContainer}>\n                        {columns.map((column) => (\n                            <div key={column.id} className={styles.column}>\n                                {column.rows.map((row) => (\n                                    <div key={row.id} className={styles.row} />\n                                ))}\n                            </div>\n                        ))}\n                    </div>\n                    <Header />\n                    <div className={styles.columnContainer}>\n                        {columns.map((column) => (\n                            <div key={column.id} className={styles.column}>\n                                {column.rows.map((row) => (\n                                    <div key={row.id} className={styles.row} />\n                                ))}\n                            </div>\n                        ))}\n                    </div>\n                </div>\n            </section>\n        );\n    }\n}\n\nexport default hot(module)(App);\n","import \"@babel/polyfill\";\nimport * as React from \"react\";\nimport * as ReactDOM from \"react-dom\";\nimport App from \"~source/view/App\";\nimport \"./styles.scss\";\n\nconst mountElement = document.getElementById(\"app\");\n\nReactDOM.render(\n    <App />,\n    mountElement,\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"_104V2\",\"containerInner\":\"_3iVIo\",\"header\":\"_3UoUo\",\"headerPush\":\"_3RyLw\",\"column\":\"_1ghFt\",\"columnInner\":\"_2VII6\",\"row\":\"_2Pe8Y\"};"],"sourceRoot":""}